# SFC tests: Basic SFC parsing and compilation

mode = "sfc"

[[cases]]
name = "script setup with template"
input = """
<script setup>
import { ref } from 'vue'
const count = ref(0)
</script>

<template>
  <div>{{ count }}</div>
</template>
"""

[[cases]]
name = "script setup with style"
input = """
<script setup>
const msg = 'hello'
</script>

<template>
  <div class="text">{{ msg }}</div>
</template>

<style>
.text { color: red; }
</style>
"""

[[cases]]
name = "script setup with scoped style"
input = """
<script setup>
const msg = 'hello'
</script>

<template>
  <div class="text">{{ msg }}</div>
</template>

<style scoped>
.text { color: red; }
</style>
"""

[[cases]]
name = "options API component"
input = """
<script>
export default {
  data() {
    return { msg: 'hello' }
  }
}
</script>

<template>
  <div>{{ msg }}</div>
</template>
"""

[[cases]]
name = "template only"
input = """
<template>
  <div>Hello World</div>
</template>
"""

[[cases]]
name = "script and template"
input = """
<script>
export default { name: 'MyComponent' }
</script>

<template>
  <div>Component</div>
</template>
"""

[[cases]]
name = "multiple style blocks"
input = """
<template>
  <div class="a b">Test</div>
</template>

<style>
.a { color: red; }
</style>

<style scoped>
.b { color: blue; }
</style>
"""

[[cases]]
name = "lang attributes"
input = """
<script setup lang="ts">
const count: number = 0
</script>

<template>
  <div>{{ count }}</div>
</template>

<style lang="scss">
.text { color: red; }
</style>
"""

[[cases]]
name = "custom blocks"
input = """
<template>
  <div>Test</div>
</template>

<i18n>
{
  "en": { "hello": "Hello" },
  "ja": { "hello": "こんにちは" }
}
</i18n>
"""

[[cases]]
name = "defineProps"
input = """
<script setup>
const props = defineProps(['msg'])
</script>

<template>
  <div>{{ props.msg }}</div>
</template>
"""

[[cases]]
name = "defineEmits"
input = """
<script setup>
const emit = defineEmits(['update'])
function onClick() {
  emit('update', 1)
}
</script>

<template>
  <button @click="onClick">Click</button>
</template>
"""

[[cases]]
name = "computed and watch"
input = """
<script setup>
import { ref, computed, watch } from 'vue'
const count = ref(0)
const double = computed(() => count.value * 2)
watch(count, (n) => console.log(n))
</script>

<template>
  <div>{{ double }}</div>
</template>
"""
