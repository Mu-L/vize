# VDom: v-once and v-memo tests

mode = "vdom"

# =============================================================================
# Basic v-once
# =============================================================================

[[cases]]
name = "simple v-once"
input = '<div v-once>static</div>'

[[cases]]
name = "v-once with interpolation"
input = '<div v-once>{{ msg }}</div>'

[[cases]]
name = "v-once with binding"
input = '<div v-once :class="cls">content</div>'

[[cases]]
name = "v-once on component"
input = '<MyComponent v-once />'

# =============================================================================
# v-once on template
# =============================================================================

[[cases]]
name = "v-once on template"
input = '<template v-once><div>A</div><div>B</div></template>'

# =============================================================================
# Nested v-once
# =============================================================================

[[cases]]
name = "v-once with nested dynamic"
input = '<div v-once><span :class="cls">{{ msg }}</span></div>'

[[cases]]
name = "v-once inside v-for"
input = '<div v-for="item in items" :key="item.id"><span v-once>{{ item.static }}</span></div>'

# =============================================================================
# v-memo
# =============================================================================

[[cases]]
name = "basic v-memo"
input = '<div v-memo="[value]">{{ computed }}</div>'

[[cases]]
name = "v-memo multiple deps"
input = '<div v-memo="[a, b, c]">{{ result }}</div>'

[[cases]]
name = "v-memo empty array"
input = '<div v-memo="[]">static</div>'

[[cases]]
name = "v-memo on component"
input = '<MyComponent v-memo="[prop]" :prop="prop" />'

# =============================================================================
# v-memo with v-for
# =============================================================================

[[cases]]
name = "v-memo in v-for"
input = '<div v-for="item in items" :key="item.id" v-memo="[item.selected]">{{ item.name }}</div>'

[[cases]]
name = "v-memo with complex expression"
input = '<div v-for="item in items" :key="item.id" v-memo="[item.id === selected]">{{ item.name }}</div>'

# =============================================================================
# v-memo on template
# =============================================================================

[[cases]]
name = "v-memo on template"
input = '<template v-memo="[value]"><div>A</div><div>B</div></template>'
