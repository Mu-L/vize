# VDom: Patch flags tests

mode = "vdom"

# =============================================================================
# TEXT (1)
# =============================================================================

[[cases]]
name = "text patch flag"
input = "<div>{{ msg }}</div>"

[[cases]]
name = "text in span"
input = "<span>{{ text }}</span>"

[[cases]]
name = "multiple interpolations"
input = "<div>{{ a }} {{ b }}</div>"

# =============================================================================
# CLASS (2)
# =============================================================================

[[cases]]
name = "class patch flag"
input = '<div :class="cls"></div>'

[[cases]]
name = "class object"
input = '<div :class="{ active: isActive }"></div>'

[[cases]]
name = "class array"
input = '<div :class="[a, b]"></div>'

# =============================================================================
# STYLE (4)
# =============================================================================

[[cases]]
name = "style patch flag"
input = '<div :style="styles"></div>'

[[cases]]
name = "style object"
input = '<div :style="{ color: textColor }"></div>'

[[cases]]
name = "style array"
input = '<div :style="[a, b]"></div>'

# =============================================================================
# PROPS (8)
# =============================================================================

[[cases]]
name = "props patch flag"
input = '<div :id="id"></div>'

[[cases]]
name = "multiple dynamic props"
input = '<div :id="id" :title="title"></div>'

[[cases]]
name = "dynamic data attribute"
input = '<div :data-id="id"></div>'

# =============================================================================
# FULL_PROPS (16)
# =============================================================================

[[cases]]
name = "v-bind object"
input = '<div v-bind="props"></div>'

[[cases]]
name = "dynamic key"
input = '<div :[key]="value"></div>'

# =============================================================================
# NEED_HYDRATION (32)
# =============================================================================

[[cases]]
name = "event handler"
input = '<button @click="handler">click</button>'

[[cases]]
name = "ref"
input = '<div ref="el"></div>'

# =============================================================================
# Combined flags
# =============================================================================

[[cases]]
name = "text and class"
input = '<div :class="cls">{{ msg }}</div>'

[[cases]]
name = "class and style"
input = '<div :class="cls" :style="style"></div>'

[[cases]]
name = "text and props"
input = '<div :id="id">{{ msg }}</div>'

[[cases]]
name = "all dynamic"
input = '<div :id="id" :class="cls" :style="style">{{ msg }}</div>'

# =============================================================================
# KEYED_FRAGMENT (128)
# =============================================================================

[[cases]]
name = "v-for with key"
input = '<div v-for="item in items" :key="item.id">{{ item }}</div>'

# =============================================================================
# UNKEYED_FRAGMENT (256)
# =============================================================================

[[cases]]
name = "v-for without key"
input = '<div v-for="item in items">{{ item }}</div>'

# =============================================================================
# NEED_PATCH (512)
# =============================================================================

[[cases]]
name = "ref on element"
input = '<div ref="el">content</div>'

[[cases]]
name = "directive on static"
input = '<div v-focus>content</div>'

# =============================================================================
# Dynamic slots (1024)
# =============================================================================

[[cases]]
name = "dynamic slot name"
input = '<MyComponent><template #[name]>content</template></MyComponent>'

[[cases]]
name = "slot with v-if"
input = '<MyComponent><template #header v-if="show">Header</template></MyComponent>'

[[cases]]
name = "slot with v-for"
input = '<MyComponent><template #item v-for="item in items" :key="item">{{ item }}</template></MyComponent>'

# =============================================================================
# Component with props
# =============================================================================

[[cases]]
name = "component static props"
input = '<MyComponent msg="hello" />'

[[cases]]
name = "component dynamic props"
input = '<MyComponent :msg="message" />'

[[cases]]
name = "component mixed props"
input = '<MyComponent static="value" :dynamic="value" />'
